
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Codeforces Round #187 (Div. 1) - Try To Think</title>
  <meta name="author" content="delta">

  
  <meta name="description" content="A. Sereja and Contest source code 有一列数{an}，定义，现在要求去掉一些ai使得去掉后得到的子列对应的d每一项都不小于给定的k。 直接模拟就可以了，遇到di&lt;k时，去掉此时的ai，注意去掉i后对于i之前的没有影响，计算这个ai对于之后dj的影响， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://delta4d.github.io/blog/2013/06/08/codeforces-round-number-187-div-1">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Try To Think" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<head>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36393620-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Try To Think</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:delta4d.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/aboutme">AboutMe</a></li>
  <li><a href="/x">X</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Codeforces Round #187 (Div. 1)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-08T13:23:00+08:00" pubdate data-updated="true">Jun 8<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2 id="a-sereja-and-contesthttpcodeforcescomcontest314problema"><a href="http://codeforces.com/contest/314/problem/A">A. Sereja and Contest</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/187/1/A.cpp">source code</a></p>

<p>有一列数{an}，定义<script type="math/tex">d_i=\sum_{j=1}^{i-1}(a_j(j-1)-(n-i)a_i)</script>，现在要求去掉一些ai使得去掉后得到的子列对应的d每一项都不小于给定的k。</p>

<p>直接模拟就可以了，遇到di&lt;k时，去掉此时的ai，注意去掉i后对于i之前的没有影响，计算这个ai对于之后dj的影响，然后继续扫描就可以了。计算影响时，假设已经去掉了ai1,ai2..,然后按照di的计算公式计算出差值就可以了。</p>

<h2 id="b-sereja-and-periodshttpcodeforcescomcontest314problemb"><a href="http://codeforces.com/contest/314/problem/B">B. Sereja and Periods</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/187/1/B.cpp">source code</a></p>

<p>定义字符串s的数乘ns为n个s相连，现在给定ba，dc，其中a，c为字符串，求ba的子串最多包含多少个dc。</p>

<p>贪心，考虑当从a[0],c[i]开始匹配，将a匹配完后下一个匹配到的c的位置和总共匹配的字符长度是多少，然后扫描一遍就可以了。</p>

<h2 id="c-sereja-and-subsequenceshttpcodeforcescomcontest314problemc"><a href="http://codeforces.com/contest/314/problem/C">C. Sereja and Subsequences</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/187/1/C.cpp">source code</a></p>

<p>给定数列{an}，对于a的所有<strong>不同的</strong>非递减子列{b}，计算sum(product(bi))。</p>

<p>动态规划，用p[i]表示以i结尾的子列的积之和，那么p[j]=j*sum(p[i], i&lt;=j)+j，表示排在i后面和j单独构成一个子列的情况。由于要计算所有不同的子列，所以当i=j时会有重复，此时要减掉以前的p[j]。</p>

<p>比如1，2，2</p>

<pre><code>1. p[1] = 1
2. p[2] = 2 * p[1] + 2 = 4
3. p[2] = 2 * (p[2] + p[1]) + 2 = 12, 此时有重复所以要减去旧的p[2]=4，即最后结果为12-4=8
</code></pre>

<p>将以上三步的结果加起来最后结果为1+4+8=13</p>

<h2 id="d-sereja-and-straight-lineshttpcodeforcescomcontest314problemd"><a href="http://codeforces.com/contest/314/problem/D">D. Sereja and Straight Lines</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/187/1/D.cpp">source code</a></p>

<p>二维平面上有一堆点，定义点之间的距离为曼哈顿距离，现在画两条正交的直线，其中一条与x轴夹角为45度，现在找出所有点到两条直线的距离较小值里的最大值，现在要求最小化最大值。</p>

<p>因为两条直线斜率为1和-1，根据距离的定义，点到直线的距离便为该点到直线的横向或纵向的距离。设两条直线为y=x+a,y=-x+b，则d(xi,yi)=min(|yi-xi-a|,|yi+xi-b|)，目标为min(max(d(xi,yi)))，假设对于某种直线的放置d=max(d(xi,yi))，则对于所有i要么有|yi-xi-a|&lt;=d要么|yi+xi-b|&lt;=d，于是我们可以枚举d，将所有(xi,yi)变为(xi’,yi’)=(xi+yi,yi-xi)，则|xi’-b|&lt;=d,|yi’-a|&lt;=d，问题变为用两条分别与纵横轴平行的相同宽度2d的带状区域是否可以覆盖所有点。可以看到宽度具有单调性，于是可以二分解决。首先按x来看一条宽为2d的带来看可以包含多少点，找出没有被包含的点y最大值和最小值，如果它们之差不大于2d，那么说明d符合条件。</p>

<h2 id="e-sereja-and-squareshttpcodeforcescomcontest314probleme"><a href="http://codeforces.com/contest/314/problem/E">E. Sereja and Squares</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/187/1/E.cpp">source code</a></p>

<p>去掉背景，用(lowercase,uppercase)表示括号的左和右，除去Sereja不喜欢的x总共有25个括号，现在给定一个序列，都是左括号或问号表示未知，现在对问号赋值问总共有多少种合法的括号序列。</p>

<p>用f(i,j)表示前i个其中有j个开括号，转移方程为</p>

<pre><code>f(i, j) = f(i-1, j-1)                      s[i] = a lowercase
f(i, j) = 25f(i-1, j-1) + f(i-1, j+1)      s[i] = '?'
</code></pre>

<p>这是一个n^2的算法，题目给定n=10^5，需要做一些优化否则会超时，经过观察发现n^2个状态中其实只用到了n^2/8种，优化到这个地方就可以过了。更厉害的优化可以看看其他的提交。</p>

<h2 id="summary">Summary</h2>

<p>A被我搞的太复杂了，半个小时都没搞定，本不打算做这场比赛了，后来还是想着先把A写了，可以第二天早上交一下，写完A后，又看了下其他题目，感觉C可搞，写完过了sample，此时差不多过了70min，想了一下决定赌我的A和C都是对的，就交了，结果两个都是WA，T_T，后面的时间就一直在想C会出什么问题，最后20min发现漏看了非递减的条件，就说怎么会这么快就搞出来。。但是觉得算法是一致的于是就一直debug，但是直到比赛结束都没搞出来。早上又把A和C看了一下，A是漏减了一项导致WA，C仔细重写后也过了，最后都搞出来了也没什么可怨念的了。啊啊啊，弱爆了。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">delta</span></span>

      








  


<time datetime="2013-06-08T13:23:00+08:00" pubdate data-updated="true">Jun 8<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/codeforces/'>codeforces</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://delta4d.github.io/blog/2013/06/08/codeforces-round-number-187-div-1/" data-via="" data-counturl="http://delta4d.github.io/blog/2013/06/08/codeforces-round-number-187-div-1/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/05/27/an-useful-congruence-identitie/" title="Previous Post: An Useful Congruence Identity">&laquo; An Useful Congruence Identity</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/08/codeforces-round-number-187-div-1/">Codeforces Round #187 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/27/an-useful-congruence-identitie/">An Useful Congruence Identity</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/13/codeforces-round-number-183-div-1/">Codeforces Round #183 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/codeforces-round-number-182-div-1/">Codeforces Round #182 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/20/codeforces-round-number-180-div-1/">Codeforces Round #180 (Div. 1)</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/delta4d">@delta4d</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'delta4d',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - delta -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'delta4d';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://delta4d.github.io/blog/2013/06/08/codeforces-round-number-187-div-1/';
        var disqus_url = 'http://delta4d.github.io/blog/2013/06/08/codeforces-round-number-187-div-1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
