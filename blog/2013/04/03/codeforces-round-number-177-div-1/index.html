
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Codeforces Round #177 (Div. 1) - Try To Think</title>
  <meta name="author" content="delta">

  
  <meta name="description" content="A. Polo the Penguin and Strings source code 有这样一种字符串，它只含有k个不同的字母，长度为n，并且相邻字符不相同。给定n和k，输出字典序最小的那个，不存在的话输出-1。 首先考虑不存在的情况，即不能满足相邻字符不相同，或不够k个字符，即n&gt;& &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://delta4d.github.io/blog/2013/04/03/codeforces-round-number-177-div-1">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Try To Think" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<head>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36393620-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Try To Think</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:delta4d.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/aboutme">AboutMe</a></li>
  <li><a href="/x">X</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Codeforces Round #177 (Div. 1)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-03T13:11:00+08:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2 id="a-polo-the-penguin-and-stringshttpwwwcodeforcescomcontest288problema"><a href="http://www.codeforces.com/contest/288/problem/A">A. Polo the Penguin and Strings</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/177/1/A.cpp">source code</a></p>

<p>有这样一种字符串，它只含有k个不同的字母，长度为n，并且相邻字符不相同。给定n和k，输出字典序最小的那个，不存在的话输出-1。</p>

<p>首先考虑不存在的情况，即不能满足相邻字符不相同，或不够k个字符，即n&gt;&amp;&amp;1k=1和k&gt;n的情况。存在的情况下，由于要求字典序最小所以贪心使用ab的重叠就好了。</p>

<h2 id="b-polo-the-penguin-and-houseshttpwwwcodeforcescomcontest288problemb"><a href="http://www.codeforces.com/contest/288/problem/B">B. Polo the Penguin and Houses</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/177/1/B.cpp">source code</a></p>

<p>有n个房子编号1-n，每个房子有一个门牌号(1-n)，房子x的门牌号记为Px，注意门牌号是可以重复的，当你到房子x时，下一步到Px，然后到P(Px)…，现在已知：</p>

<pre><code>1. 从1-k出发，都会回到1
2. 从k+1-n出发，都不会回到1
3. 从1出发，经过非0步回到1
</code></pre>

<p>现在给定n，k，确定有多少种门牌号编排方案。其中k&lt;=8。</p>

<p>由条件知，从1-k出发都不可能到达k+1-n，从k+1-n出发也不可能到1-k。于是由于k的范围很小，可以暴力出1-k的方案数。k+1-n为(n-k)^(n-k)种，然后乘起来就好了。</p>

<h2 id="c-polo-the-penguin-and-xor-operationhttpwwwcodeforcescomcontest288problemc"><a href="http://www.codeforces.com/contest/288/problem/C">C. Polo the Penguin and XOR operation</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/177/1/C.cpp">source code</a></p>

<p>0-n这n+1个数有一个排列{pi}，对于每一个排列对应一个数值p=(0^p0)+(1^p1)+…+(n^pn)，求p的最大值。</p>

<p>采用贪心。对于每个数x，去掉x的二进制最高位后，然后取反得到x’，则x’&lt;x，使得x^x’最大。即对于任何一个x都存在一个x’&lt;x与之对应，并且这种对应是唯一的，即不会有x!=y，而x’=y’，于是从n开始倒序搜索，总可以进行这样的匹配。</p>

<h2 id="d-polo-the-penguin-and-treeshttpwwwcodeforcescomcontest288problemd"><a href="http://www.codeforces.com/contest/288/problem/D">D. Polo the Penguin and Trees</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/177/1/D.cpp">source code</a></p>

<p>给一棵树，查询这样元组(a,b,c,d)的个数，其中a&lt;b,c&lt;d，并且a和b的最短路与c和d的最短路没有公共节点。</p>

<p>从反面考虑，不考虑条件，所有元组的个数为C(n,2)^2，然后去除最短路有公共点的元组。若公共点为x，则最短路经过x的点对有两种：</p>

<pre><code>1. a和b分别在x的两个儿子形成的子树中
2. a在x为根的子树中，b在除x子树的剩余节点中
</code></pre>

<p>a和b都在除x子树的剩余节点是不行的，这样最短路肯定不会通过x了。这样的话只需要dfs一遍就可以了。</p>

<h2 id="e-polo-the-penguin-and-lucky-numbershttpwwwcodeforcescomcontest288probleme"><a href="http://www.codeforces.com/contest/288/problem/E">E. Polo the Penguin and Lucky Numbers</a></h2>

<p><a href="https://github.com/delta4d/AlgoSolution/blob/master/codeforces/177/1/E.cpp">source code</a></p>

<p>lucky number是十进制位只含有4和7的数，现在给定一个区间[l,r]，其中l和r都是lucky number，位于[l,r]之内的lucky number为{ai}，求a1a2+a2a3+…+a(n-1)an。</p>

<p>采用dp解决，从高位向低位扫描。只需要计算[44..4,l]和[44..4,r]的结果就可了，然后二者相减就得到了结果。比如[444,747]，观察如下图表，每一次的{ai}，对应到下一次为{10ai+4,10ai+7}，只有最后一个an有所区别，有可能没有10an+7。</p>

<pre><code>1-----2------3

       /-- 444
   - 44 -- 447
  /    /-- 474
4 -- 47 -- 477
       /-- 744
7 -- 74 -- 747
</code></pre>

<p>看到这样的关系后就可以写转移方程了，设F[n]为题目所求，K[n]为当前数{ai}的多少，比如上图中K[1]=1,K[2]=3,K[3]=6。</p>

<script type="math/tex; mode=display">% <![CDATA[


\begin{align*}

& F_{n+1} = \sum_{i=1}^{K_n-1}(10a_i+4)(10a_i+7) + \sum_{i=1}^{K_n-1}(10a_i+7)(10a_{i+1}+4) \\

& F_{n+1} = 100F_n+100\sum_{i=1}^{K_n-1}a_i^2 + 220\sum_{i=1}^{K_n-1}a_i+56(K_n-1)+70(a_{K_n}-a_1) \\

\end{align*}

 %]]></script>

<p>上面是对于当前处理字符为4的情况，7的情况只需要再加上最后一项<script type="math/tex">(10a_{K_n}+4)(10a_{K_n}+7)</script>即可，然后可以设</p>

<script type="math/tex; mode=display">
	S_n = \sum_{i=1}^{K_n-1}a_i, \quad T_n = \sum_{i=1}^{K_n-1}a_i^2
</script>

<p>求出对应的递推关系，就可以了。</p>

<h2 id="summary">Summary</h2>

<p>A，B，C较以往的比赛难度并不算太高，算是比较幸运的在一个小时内1y了前三题，后面一个小时就打酱油了，还是缺乏砍难题的能力啊，啊啊啊，弱爆了弱爆了。</p>

<p>D比赛的时候走偏了，我首先去计算没有公共节点的元组，然后再在这些元组中去去重，始终想不到好的方法，加上自己也确实缺少能够搞定D的信心，后面也就没有再深入去想了。如果开始从更大的角度从反面考虑的话，或许会有一些想法。啊啊，以后做题一定要霸气啊，管他ABCDE，嗯嗯。还有就是要从更多角度去思考问题，但是很多时候真的找不到合适的角度诶，要多做题，多看大牛代码，多看大牛文章。</p>

<p>E花了一天终于搞定了，略兴奋。主要是要发现前后ai之间的关系，然后就只剩下一些计算了。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">delta</span></span>

      








  


<time datetime="2013-04-03T13:11:00+08:00" pubdate data-updated="true">Apr 3<span>rd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/codeforces/'>codeforces</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://delta4d.github.io/blog/2013/04/03/codeforces-round-number-177-div-1/" data-via="" data-counturl="http://delta4d.github.io/blog/2013/04/03/codeforces-round-number-177-div-1/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/04/01/gentoo-notes-03/" title="Previous Post: gentoo notes 03 - programs">&laquo; gentoo notes 03 - programs</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/04/06/monotonous-queue-and-stack/" title="Next Post: 单调队列/栈">单调队列/栈 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/13/codeforces-round-number-183-div-1/">Codeforces Round #183 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/codeforces-round-number-182-div-1/">Codeforces Round #182 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/20/codeforces-round-number-180-div-1/">Codeforces Round #180 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/12/codeforces-round-number-179-div-1/">Codeforces Round #179 (Div. 1)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/06/monotonous-queue-and-stack/">单调队列/栈</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/delta4d">@delta4d</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'delta4d',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - delta -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'delta4d';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://delta4d.github.io/blog/2013/04/03/codeforces-round-number-177-div-1/';
        var disqus_url = 'http://delta4d.github.io/blog/2013/04/03/codeforces-round-number-177-div-1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
